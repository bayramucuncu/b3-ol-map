<div class="b3-layer-line"
    b3Draggable 
    b3DraggableDropZone 
    draggableType="layer" 
    dropAcceptType="layer" 
    [draggableData]="layer"
    (outDropDraggable)="onDrop(layer, $event)">
        <i [ngClass]="{'b3-layer-checked-icon': layer.layerSettings.visible, 'b3-layer-unchecked-icon': !layer.layerSettings.visible}"
            (click)="onCheckChanged(layer)" 
            (mousedown)="onRangeMouseDown($event)" 
            (mouseup)="onRangeMouseUp($event)"></i>
        <label class="b3-layer-label"
            (mousedown)="onRangeMouseUp($event)"
            (mouseup)="onRangeMouseDown($event)">{{layer.order}} {{ (layer.name.length > 10 && isSettingsOpen) ? (layer.name | slice:0:5) + "..." : layer.name }}</label>
        <input *ngIf="isSettingsOpen" 
            type="range" 
            min="0" 
            max="1" 
            step=".1"
            [(ngModel)]="layer.layerSettings.opacity"
            (mousedown)="onRangeMouseDown($event)" 
            (mouseup)="onRangeMouseUp($event)"
            (input)="onRangeChanged(layer)">
        <i class="b3-layer-remove-icon" (click)="delete(layer)" *ngIf="isSettingsOpen"></i>
        <i class="b3-layer-settings-icon " [ngClass]="{'spinner': isLoading(layer)}" (click)="toggleSettings()"></i>
</div>